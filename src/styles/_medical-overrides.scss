// Medical theme overrides for specific components
@use '@angular/material' as mat;

// MTX Grid (Material Extensions Grid)
.mtx-grid {
  .mtx-grid-header {
    background-color: var(--mat-sys-surface-variant);
    
    .mat-mdc-header-cell {
      font-weight: 600;
      color: var(--med-text-primary);
      border-color: var(--mat-sys-outline-variant);
    }
  }
  
  .mtx-grid-row:hover {
    background-color: var(--med-primary-hover) !important;
    opacity: 0.1;
  }
  
  .mtx-grid-cell {
    border-color: var(--mat-sys-outline-variant);
  }
}

// Dialogs
.mat-mdc-dialog-container {
  .mat-mdc-dialog-title {
    font-weight: 600;
    color: var(--med-primary-dark);
  }
}

// Cards
.mat-mdc-card {
  background-color: var(--mat-sys-surface);
  
  .mat-mdc-card-title {
    color: var(--med-text-primary);
  }
  
  .mat-mdc-card-subtitle {
    color: var(--med-text-secondary);
  }
}

// Form fields with medical theme
.mat-mdc-form-field {
  .mat-mdc-form-field-ripple {
    background-color: var(--med-primary-dark);
  }
  
  &.mat-focused {
    .mat-mdc-form-field-ripple {
      background-color: var(--med-primary-dark);
    }
    
    .mat-mdc-floating-label {
      color: var(--med-primary-dark);
    }
  }
  
  &.mat-form-field-invalid {
    .mat-mdc-form-field-ripple {
      background-color: var(--med-error);
    }
  }
}

// Tooltips
.mat-mdc-tooltip {
  color: white;
  background-color: var(--med-primary-dark);
}

// Badges
.mat-badge-content {
  color: white;
  background-color: var(--med-primary-dark);
  
  &.mat-badge-warn {
    background-color: var(--med-urgent);
  }
  
  &.mat-badge-accent {
    background-color: var(--med-secondary);
  }
}

// Expansion panels
.mat-expansion-panel {
  background-color: var(--mat-sys-surface);
  
  .mat-expansion-panel-header {
    &:hover:not(.mat-expanded) {
      background-color: var(--med-primary-hover) !important;
      opacity: 0.1;
    }
  }
  
  &.mat-expanded {
    .mat-expansion-panel-header {
      background-color: var(--mat-sys-surface-variant);
    }
  }
}

// Stepper
.mat-step-header {
  &.mat-step-header-active {
    .mat-step-icon {
      background-color: var(--med-primary-dark);
    }
  }
  
  &:hover:not([aria-disabled]) {
    background-color: var(--med-primary-hover);
    opacity: 0.1;
  }
}

// List items
.mat-mdc-list-item {
  &:hover {
    background-color: var(--med-primary-hover);
    opacity: 0.1;
  }
  
  &.active {
    background-color: var(--med-primary-hover);
    
    .mat-mdc-list-item-title {
      font-weight: 600;
      color: var(--med-primary-dark);
    }
  }
}

// Dark mode overrides
.theme-dark {
  .mtx-grid {
    .mtx-grid-header {
      background-color: var(--med-surface-variant);
    }
    
    .mtx-grid-row:hover {
      background-color: var(--med-primary-dark-hover) !important;
      opacity: 0.3;
    }
  }
  
  .mat-mdc-card {
    background-color: var(--med-surface-light);
  }
  
  .mat-mdc-tooltip {
    color: var(--med-primary-dark);
    background-color: var(--med-primary-light);
  }
  
  .mat-badge-content {
    color: var(--med-primary-dark);
    background-color: var(--med-primary-light);
  }
  
  .mat-expansion-panel {
    background-color: var(--med-surface-light);
    
    &.mat-expanded {
      .mat-expansion-panel-header {
        background-color: var(--med-surface-variant);
      }
    }
  }
  
  .mat-mdc-list-item {
    &:hover {
      background-color: var(--med-primary-dark-hover);
      opacity: 0.3;
    }
    
    &.active {
      background-color: var(--med-primary-dark-hover);
      
      .mat-mdc-list-item-title {
        color: var(--med-primary-light);
      }
    }
  }
}