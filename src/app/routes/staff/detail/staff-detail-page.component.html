<div class="detail-container">
  @if (staff) {
    <div class="detail-header">
      <button mat-icon-button (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
      </button>
      <h1>{{ staff.fullName }}</h1>
      <span class="spacer"></span>
      <button mat-raised-button color="primary" (click)="editStaff()">
        <mat-icon>edit</mat-icon>
        Edit
      </button>
    </div>
    
    <mat-card>
      <mat-card-header>
        <mat-card-title>Staff Information</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-list>
          <mat-list-item>
            <span matListItemTitle>Full Name</span>
            <span matListItemLine>{{ staff.fullName }}</span>
          </mat-list-item>
          
          <mat-divider></mat-divider>
          
          <mat-list-item>
            <span matListItemTitle>Email</span>
            <span matListItemLine>{{ staff.email }}</span>
          </mat-list-item>
          
          <mat-divider></mat-divider>
          
          <mat-list-item>
            <span matListItemTitle>Phone Number</span>
            <span matListItemLine>{{ staff.phoneNumber || 'Not provided' }}</span>
          </mat-list-item>
          
          <mat-divider></mat-divider>
          
          <mat-list-item>
            <span matListItemTitle>Role</span>
            <span matListItemLine>
              <span class="role-badge" [attr.data-role]="staff.role">{{ staff.role }}</span>
            </span>
          </mat-list-item>
          
          <mat-divider></mat-divider>
          
          <mat-list-item>
            <span matListItemTitle>Status</span>
            <span matListItemLine>
              @if (staff.isActive) {
                <span class="status-badge active">Active</span>
              } @else {
                <span class="status-badge inactive">Inactive</span>
              }
            </span>
          </mat-list-item>
          
          @if (staff.specialties && staff.specialties.length > 0) {
            <mat-divider></mat-divider>
            <mat-list-item>
              <span matListItemTitle>Specialties</span>
              <span matListItemLine>
                <mat-chip-set>
                  @for (specialty of staff.specialties; track specialty.id) {
                    <mat-chip>{{ specialty.name }}</mat-chip>
                  }
                </mat-chip-set>
              </span>
            </mat-list-item>
          }
          
          @if (staff.keycloakUserId) {
            <mat-divider></mat-divider>
            <mat-list-item>
              <span matListItemTitle>Keycloak User ID</span>
              <span matListItemLine class="monospace">{{ staff.keycloakUserId }}</span>
            </mat-list-item>
          }
          
          @if (staff.accessRole) {
            <mat-divider></mat-divider>
            <mat-list-item>
              <span matListItemTitle>Access Role</span>
              <span matListItemLine>{{ staff.accessRole }}</span>
            </mat-list-item>
          }
          
          <mat-divider></mat-divider>
          
          <mat-list-item>
            <span matListItemTitle>Created</span>
            <span matListItemLine>{{ staff.createdAt | date:'medium' }}</span>
          </mat-list-item>
          
          <mat-divider></mat-divider>
          
          <mat-list-item>
            <span matListItemTitle>Last Updated</span>
            <span matListItemLine>{{ staff.updatedAt | date:'medium' }}</span>
          </mat-list-item>
        </mat-list>
      </mat-card-content>
    </mat-card>
  } @else {
    <div class="error-state">
      <mat-icon>error_outline</mat-icon>
      <h2>Staff Member Not Found</h2>
      <p>The requested staff member could not be loaded.</p>
      <button mat-raised-button color="primary" (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
        Back to List
      </button>
    </div>
  }
</div>