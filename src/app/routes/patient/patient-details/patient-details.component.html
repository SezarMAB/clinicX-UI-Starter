<div class="patient-details-container">
  <!-- Content body -->
  <div class="content-body">
    <!-- Loading spinner -->
    @if (isLoading()) {
      <div class="loading-container">
        <mat-spinner></mat-spinner>
      </div>
    }

    <!-- Patient content -->
    @if (!isLoading() && patient()) {
      <div class="patient-content">
        <!-- Patient details panel -->
        <section class="patient-details-panel" 
                 [class.patient-details-panel--no-padding]="noPadding()">
          
          <!-- Combined patient summary and info cards -->
          <div class="patient-overview-layout">
            <!-- Left side: Patient summary -->
            <div class="patient-summary-section">
              <app-patient-summary 
                [patient]="patient()!"
                class="w-full">
              </app-patient-summary>
            </div>

            <!-- Right side: Info cards -->
            <div class="patient-info-section">
              <app-info-cards 
                [patient]="patient()!"
                class="w-full">
              </app-info-cards>
            </div>
          </div>

          <!-- Patient tabs component -->
          <app-patient-tabs 
            [patientId]="patient()!.id"
            class="w-full flex-1">
          </app-patient-tabs>
        </section>
      </div>
    }

    <!-- No patient message -->
    @if (!isLoading() && !patient()) {
      <div class="d-flex justify-content-center align-items-center h-full p-24">
        <div class="text-center">
          <mat-icon class="text-64 text-muted mb-16">person_off</mat-icon>
          <h2 class="mat-headline-6 text-muted">{{ 'patients.no_patient_selected' | translate }}</h2>
          <p class="mat-body-1 text-muted">{{ 'patients.select_patient_to_view_details' | translate }}</p>
        </div>
      </div>
    }
  </div>
</div>