<div class="patient-summary-wrapper">
  <div class="patient-header">
    <!-- Patient avatar with ID -->
    <div class="patient-avatar-section">
      <div class="patient-avatar" [attr.data-gender]="patient.gender?.toLowerCase() || 'unknown'">
        <mat-icon class="avatar-icon">person</mat-icon>
      </div>
      <span class="patient-id">{{ patient.publicFacingId }}</span>
    </div>

    <!-- Patient info -->
    <div class="patient-info">
      <!-- Name row -->
      <div class="patient-title">
        <h2 class="patient-name mat-headline-5 m-0">
          {{ patient.fullName }}
          @if (patient.hasAlert) {
            <mat-icon class="alert-icon text-warn"
                      [matTooltip]="'patients.has_alerts' | translate">
              warning
            </mat-icon>
          }
        </h2>
      </div>

      <!-- Demographics -->
      <div class="patient-demographics">
        <div class="info-item">
          <mat-icon class="info-icon">cake</mat-icon>
          <span class="mat-body-2">
            {{ formatDate(patient.dateOfBirth) }} ({{ patient.age }} {{ 'patients.years' | translate }})
          </span>
        </div>

        @if (patient.phoneNumber) {
          <div class="info-item">
            <mat-icon class="info-icon">phone</mat-icon>
            <a href="tel:{{ patient.phoneNumber }}" class="mat-body-2 text-primary">
              {{ patient.phoneNumber }}
            </a>
          </div>
        }

<!--        @if (patient.email) {-->
<!--          <div class="info-item hide-small">-->
<!--            <mat-icon class="info-icon">email</mat-icon>-->
<!--            <a href="mailto:{{ patient.email }}" class="mat-body-2 text-primary text-truncate">-->
<!--              {{ patient.email }}-->
<!--            </a>-->
<!--          </div>-->
<!--        }-->
      </div>

      <!-- Insurance info -->
<!--      @if (patient.insuranceProvider) {-->
<!--        <div class="insurance-info mat-body-2 text-muted">-->
<!--          <mat-icon class="info-icon">health_and_safety</mat-icon>-->
<!--          {{ patient.insuranceProvider }}-->
<!--          @if (patient.insuranceNumber) {-->
<!--            <span class="insurance-number">â€¢ {{ patient.insuranceNumber }}</span>-->
<!--          }-->
<!--        </div>-->
<!--      }-->

      <!-- Patient tags -->
      @if (patientTags.length > 0) {
        <div class="patient-tags">
          <mat-chip-set aria-label="Patient tags">
            @for (tag of patientTags; track tag) {
              <mat-chip [highlighted]="true">
                {{ tag }}
              </mat-chip>
            }
          </mat-chip-set>
        </div>
      }
    </div>

  </div>

</div>

