<div class="tabs-container">
  <!-- Dental chart card -->
<!--  <mat-card class="dental-chart-card">-->
<!--    <mat-card-header>-->
<!--      <mat-card-title class="mat-headline-6">-->
<!--        {{ 'patients.dental_chart' | translate }}-->
<!--      </mat-card-title>-->
<!--      <button mat-icon-button-->
<!--              class="chart-action-btn"-->
<!--              [matTooltip]="'patients.expand_chart' | translate"-->
<!--              (click)="expandChart()">-->
<!--        <mat-icon>open_in_full</mat-icon>-->
<!--      </button>-->
<!--    </mat-card-header>-->
<!--    <mat-card-content class="dental-chart-content">-->
<!--      &lt;!&ndash; Placeholder for dental chart component &ndash;&gt;-->
<!--      <div class="dental-chart-placeholder">-->
<!--        <mat-icon class="placeholder-icon">dentistry</mat-icon>-->
<!--        <p class="mat-body-1 text-muted">{{ 'patients.dental_chart_placeholder' | translate }}</p>-->
<!--      </div>-->
<!--    </mat-card-content>-->
<!--  </mat-card>-->

  <!-- Patient tabs card -->
    <!-- Desktop tabs -->
    <mat-tab-group class="patient-tabs hide-small"
                   [(selectedIndex)]="selectedTabIndex"
                   (selectedIndexChange)="onTabChange($event)"
                   dynamicHeight
                   mat-stretch-tabs="false">

      <!-- Basic Data Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">person</mat-icon>
          <span class="tab-label">{{ 'patients.tabs.basic_data' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content">
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.basic_data_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.basic_data_description' | translate }}</p>
            </div>
          </div>
        </ng-template>
      </mat-tab>

      <!-- Visit History Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">history</mat-icon>
          <span class="tab-label">{{ 'patients.tabs.visit_history' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content">
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.visit_history_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.visit_history_description' | translate }}</p>
            </div>
          </div>
        </ng-template>
      </mat-tab>

      <!-- Treatment Documents Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">description</mat-icon>
          <span class="tab-label">{{ 'patients.tabs.documents' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content">
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.documents_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.documents_description' | translate }}</p>
            </div>
          </div>
        </ng-template>
      </mat-tab>

      <!-- Treatments Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">medical_services</mat-icon>
          <span class="tab-label">{{ 'treatments.title' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content no-padding">
            <app-treatment-list
              [patientId]="patientId"
              [embedded]="true">
            </app-treatment-list>
          </div>
        </ng-template>
      </mat-tab>

      <!-- Treatment Timeline Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">timeline</mat-icon>
          <span class="tab-label">{{ 'treatments.timeline' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content">
            <!-- We'll need to load treatments data for timeline -->
            <div class="placeholder-content">
              <h3>{{ 'treatments.timeline' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <!-- TODO: Load treatments and pass to timeline component -->
            </div>
          </div>
        </ng-template>
      </mat-tab>

      <!-- Treatment Plan Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">assignment</mat-icon>
          <span class="tab-label">{{ 'patients.tabs.treatment_plan' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content">
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.treatment_plan_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.treatment_plan_description' | translate }}</p>
            </div>
          </div>
        </ng-template>
      </mat-tab>

      <!-- Lab Work Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">science</mat-icon>
          <span class="tab-label">{{ 'patients.tabs.lab' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content">
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.lab_work_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.lab_work_description' | translate }}</p>
            </div>
          </div>
        </ng-template>
      </mat-tab>

      <!-- Financial Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <mat-icon class="tab-icon">account_balance</mat-icon>
          <span class="tab-label">{{ 'patients.tabs.financial' | translate }}</span>
        </ng-template>
        <ng-template matTabContent>
          <div class="tab-content">
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.financial_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.financial_description' | translate }}</p>
            </div>
          </div>
        </ng-template>
      </mat-tab>
    </mat-tab-group>

    <!-- Mobile dropdown navigation -->
    <div class="mobile-tab-nav show-small">
      <mat-form-field class="w-full">
        <mat-label>{{ 'patients.select_section' | translate }}</mat-label>
        <mat-select [(value)]="selectedTabIndex" (selectionChange)="onTabChange($event.value)">
          <mat-option [value]="0">
            <mat-icon class="option-icon">person</mat-icon>
            {{ 'patients.tabs.basic_data' | translate }}
          </mat-option>
          <mat-option [value]="1">
            <mat-icon class="option-icon">history</mat-icon>
            {{ 'patients.tabs.visit_history' | translate }}
          </mat-option>
          <mat-option [value]="2">
            <mat-icon class="option-icon">description</mat-icon>
            {{ 'patients.tabs.documents' | translate }}
          </mat-option>
          <mat-option [value]="3">
            <mat-icon class="option-icon">assignment</mat-icon>
            {{ 'patients.tabs.treatment_plan' | translate }}
          </mat-option>
          <mat-option [value]="4">
            <mat-icon class="option-icon">science</mat-icon>
            {{ 'patients.tabs.lab' | translate }}
          </mat-option>
          <mat-option [value]="5">
            <mat-icon class="option-icon">account_balance</mat-icon>
            {{ 'patients.tabs.financial' | translate }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Mobile content area -->
      <div class="mobile-tab-content">
        @switch (selectedTabIndex()) {
          @case (0) {
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.basic_data_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.basic_data_description' | translate }}</p>
            </div>
          }
          @case (1) {
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.visit_history_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.visit_history_description' | translate }}</p>
            </div>
          }
          @case (2) {
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.documents_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.documents_description' | translate }}</p>
            </div>
          }
          @case (3) {
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.treatment_plan_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.treatment_plan_description' | translate }}</p>
            </div>
          }
          @case (4) {
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.lab_work_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.lab_work_description' | translate }}</p>
            </div>
          }
          @case (5) {
            <div class="placeholder-content">
              <h3>{{ 'patients.placeholders.financial_title' | translate }}</h3>
              <p>{{ 'patients.patient_id' | translate }}: {{ patientId }}</p>
              <p>{{ 'patients.placeholders.financial_description' | translate }}</p>
            </div>
          }
        }
      </div>
    </div>
</div>
